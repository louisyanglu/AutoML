### 第1章  智能风控的发展

![1.  智能风控的发展](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/1.%20%20%E6%99%BA%E8%83%BD%E9%A3%8E%E6%8E%A7%E7%9A%84%E5%8F%91%E5%B1%95.png)

<div style="page-break-after:always"></div> 

------

### 第2章  智能风控模型体系

#### 2.1  名词定义

![2.1  名词定义](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.1%20%20%E5%90%8D%E8%AF%8D%E5%AE%9A%E4%B9%89.png)

#### 2.2  模型开发步骤

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219205123989.png" alt="image-20230219205123989" style="zoom: 33%;" />

![2.2  模型开发步骤](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.2%20%20%E6%A8%A1%E5%9E%8B%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4.png)

#### 2.3  模型样本

![2.3  模型样本](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.3%20%20%E6%A8%A1%E5%9E%8B%E6%A0%B7%E6%9C%AC.png)

#### 2.4  模型开发

##### 2.4.1  特征选择

![2.4.1  特征选择](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.4.1%20%20%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9.png)

##### 2.4.2  特征提取

![2.4.2  特征提取](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.4.2%20%20%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96.png)

##### 2.4.3  模型训练、概率转化、效果评估、模型部署、上线验证

![2.4.3  模型训练、概率转化、效果评估、模型部署、上线验证](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.4.3%20%20%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83%E3%80%81%E6%A6%82%E7%8E%87%E8%BD%AC%E5%8C%96%E3%80%81%E6%95%88%E6%9E%9C%E8%AF%84%E4%BC%B0%E3%80%81%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2%E3%80%81%E4%B8%8A%E7%BA%BF%E9%AA%8C%E8%AF%81.png)

#### 2.5  模型迭代

>   **原因：**
>
>   -   客群变化，导致模型效果衰减
>   -   业务调整，部分数据无法使用
>
>   **目的：**
>
>   -   提升模型在线上的效果，使其在近期样本上表现更好。

##### 2.5.1  模型融合

>   1.   不同标签模型融合
>
>        建立能预测客户长期风险的长表现期模型 + 预测客户短期风险的短表现期模型。如欺诈和逾期作为标签来建立子模型，再融合。
>
>   2.   不同样本模型融合
>
>        按产品、事件段等，将样本分群。如将新模型与旧模型融合，可以获取不同时段的客群信息。
>
>   3.   不同数据源模型融合
>
>        按数据源建立子模型，再融合。比所有特征一起训练的效果更好。

![2.5.1  模型融合](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.5.1%20%20%E6%A8%A1%E5%9E%8B%E8%9E%8D%E5%90%88.png)

##### 2.5.2  拒绝推断

>   模型开发基于授信通过的放款样本，但是模型的应用对象是所有授信申请客户，存在“**样本偏差**”问题。样本偏差会导致模型参数估计的偏差，导致模型效果衰减。如果在建模样本中加入被拒绝的样本，可以使模型的效果得到保证。
>
>   拒绝推断的主要内容：推断被拒绝样本的标签。
>
>   有学者认为，拒绝推断的潜在好处有限。另一种做法：将不同时期的风控模型子分作为新特征，早期的建模样本未经过风控规则过滤，更接近全客群。早期的模型包含早起样本的分布特征，将其融合到包含近期样本分布信息的近期模型中，模型效果更优，也更稳定。

**常用场景**

-   总体风险异质；
-   通过率很低；（通过率很高，如>80%，通过样本和申请样本的分布差异不大，没必要使用拒绝推断）
-   历史数据与当前数据有显著差异。



**已知推断比KI**（Known-to-Inferred odds ratio）

>   $KI$值越高，推断人群中坏客户占比越高，推断人群的风险越高。通常$KI$值范围是2～4，业界倾向于较大的值。

$KI=\frac{G_K/B_K}{G_I/B_I}，G_K/B_K已知好/坏客户，G_I/B_I推断好/坏客户$，衡量拒绝推断人群的风险是否合理。



**3种模型**

1.   **AR**（Accept Reject）模型：**以是否放贷为标签**，是在全量样本上构建的模型。通过样本标签=0，拒绝样本标签=1。

     <img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219162413288.png" alt="image-20230219162413288" style="zoom:33%;" />

2.   **KGB**（Known Good Bad）模型：**以逾期表现为标签**，是在已知好坏标签（通过的放款）样本上构建的模型。

     <img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219162443418.png" alt="image-20230219162443418" style="zoom:38%;" />

3.   **AGB**（All Good Bad）模型：**以逾期表现为标签**，是在全量样本上构建的模型。包含已知好坏标签（真实标签）的通过样本和推断出“伪标签”的拒绝样本。

     <img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219162529254.png" alt="image-20230219162529254" style="zoom:33%;" />

![2.5.2  拒绝推断常用方法](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.5.2%20%20%E6%8B%92%E7%BB%9D%E6%8E%A8%E6%96%AD%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95.png)

**模型评估**

**测试集**的选取有3种方式：

1.   放款样本（在真实标签上评估，无法体现拒绝推断模型的优势）
2.   UT样本（UT样本很少）
3.   包含推断标签的样本（推断的y标签不准确，模型效果评估的有效性难以得到保证）

通常，在上述3种测试集上进行效果评估，综合评价模型效果。

#### 2.6  各阶段模型体系

![2.6  各阶段模型](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.6%20%20%E5%90%84%E9%98%B6%E6%AE%B5%E6%A8%A1%E5%9E%8B.png)

##### 2.6.1  营销阶段

![2.6.1  营销阶段](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.6.1%20%20%E8%90%A5%E9%94%80%E9%98%B6%E6%AE%B5.png)

##### 2.6.2  贷前阶段

![2.6.2  贷前阶段](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.6.2%20%20%E8%B4%B7%E5%89%8D%E9%98%B6%E6%AE%B5.png)

##### 2.6.3  贷中阶段

![2.6.3  贷中阶段](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.6.3%20%20%E8%B4%B7%E4%B8%AD%E9%98%B6%E6%AE%B5.png)

##### 2.6.4  贷后阶段

![2.6.4  贷后阶段](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/2.6.4%20%20%E8%B4%B7%E5%90%8E%E9%98%B6%E6%AE%B5.png)

#### 2.7  模型监控和预警

##### 2.7.1  模型监控

1.   **准确性**

     >   线上与线下计算结果一致。

     <img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219202450002.png" alt="image-20230219202450002" style="zoom:50%;" />

2.   **稳定性**

     >   拉取最近半月的数据，以天为单位统计特征和模型分PSI。
     >
     >   引起分布变化的原因有客群变化、数据源异常等。

     **模型分稳定性**

     ![image-20230219202700225](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219202700225.png)

     **特征稳定性**

     ![image-20230219202814277](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219202814277.png)

     **特征分布**

     ![image-20230219203032899](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203032899.png)

3.   **有效性**

     **模型效果**

     ![image-20230219203304680](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203304680.png)

     **特征效果**

     ![image-20230219203355978](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203355978.png)

##### 2.7.2  模型预警

>   针对模型监控内容设定预警指标，定义预警阈值，当监控的指标偏离该范围时发出预警。

**准确性**

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203625190.png" alt="image-20230219203625190" style="zoom:50%;" />

**稳定性**

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203735791.png" alt="image-20230219203735791" style="zoom:50%;" />

**有效性绝对指标**

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203858582.png" alt="image-20230219203858582" style="zoom:50%;" />

**有效性相对指标**

**衰减率**$$Deterioration=1-\frac{KS_{监控}}{KS_{基准}}$$

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219203935204.png" alt="image-20230219203935204" style="zoom:50%;" />

##### 2.7.3  模型异常处理

>   模型发生异常时，需快速分析和解决问题。

**准确性异常**：

1.   线上、线下环境发生改变；
2.   线上、线下特征预处理逻辑发生改变。

**稳定性异常**：

1.   数据源异常；

     找分布偏移大的特征，确认是哪个数据源，若段时间无法修复，切换到备选模型。

2.   客群变化。

     重新迭代模型。

**有效性异常**：

1.   数据源异常；
2.   客群变化；
3.   模型效果衰减。

<div style="page-break-after:always"></div> 

------

### 第3章  智能风控画像体系

#### 3.1  特征挖掘概述

<img src="https://cdn.jsdelivr.net/gh/louisyanglu/images/images/image-20230219204950581.png" alt="image-20230219204950581" style="zoom: 33%;" />

#### 3.2  特征挖掘方法论

##### 3.2.1  原始数据分析

>   提取原始数据中有用的信息而对其进行分析的过程。

![3.2.1  原始数据分析](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/3.2.1%20%20%E5%8E%9F%E5%A7%8B%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90.png)

##### 3.2.2  数据清洗

![3.2.2  数据清洗](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/3.2.2%20%20%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97.png)

##### 3.2.3  中间数据集构建

>   将清洗完成的原始数据处理成结构化的数据格式，以便后续特征挖掘。

![3.2.4  中间数据集构建](https://cdn.jsdelivr.net/gh/louisyanglu/images/images/3.2.4%20%20%E4%B8%AD%E9%97%B4%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9E%84%E5%BB%BA.png)

##### 3.2.4  特征的设计和生成

##### 3.2.5  特征评估

##### 3.2.6  特征上线

<div style="page-break-after:always"></div> 

------

### 第4章  智能风控策略体系

<div style="page-break-after:always"></div> 

------

### 第5章  智能风控与人工结合

<div style="page-break-after:always"></div> 

------

### 第6章  智能风控管理

<div style="page-break-after:always"></div> 

------

